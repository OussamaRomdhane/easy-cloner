var cloner=function(r){var e=[],n=0;e.add=function(r){n++,e.push(r)},e.remove=function(r){n--,e.pop(r)};var t=function(r){if(r instanceof Date)return new Date(r.getTime());if(r instanceof Buffer)return new Buffer(r);if("function"==typeof r){var f=function(){return r.apply(r.this,r.arguments)};if(0!==n&&-1!==e.indexOf(r))return"[circular]";for(var i in this)r.hasOwnProperty(i)&&("object"==typeof r[i]?(e.add(r),f[i]=t(r[i]),e.remove()):f[i]=r[i]);return f}if(Array.isArray(r)){var o=[];if(0!==n&&-1!==e.indexOf(r))return"[circular]";for(var a=0;a<r.length;a++)"object"==typeof r[a]?(e.add(r),o[a]=t(r[a]),e.remove()):o[a]=r[a];return o}if("object"==typeof r){var u={};if(0!==n&&-1!==e.indexOf(r))return"[circular]";e.add(r);for(var c in r)"object"==typeof r[c]?(e.add(r),u[c]=t(r[c]),e.remove()):u[c]=r[c];return u}return r};return t(r)};